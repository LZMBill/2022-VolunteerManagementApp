{"version":3,"sources":["admin.js"],"names":["parcelRequire","modules","cache","entry","globalName","previousRequire","nodeRequire","require","newRequire","name","jumped","currentRequire","err","Error","code","localRequire","resolve","module","Module","call","exports","x","moduleName","id","bundle","isParcelRequire","parent","register","error","i","length","e","mainExports","define","amd","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","F","s","n","done","value","_e","f","TypeError","normalCompletion","didErr","step","next","_e2","return","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","from","test","arr","len","arr2","ATTR_EDITED","document","addEventListener","window","django","$","jQuery","data","getData","setupUserAjaxUrl","setupActionDescriptionTemplates","setupHelpTypeDefaultRequirements","setupUserAccountsBehaviour","setupConfirmNavigationIfEdited","element","getElementById","JSON","parse","innerText","action_requirements_for_help_types","on","_ref","target","defaultRequirements","SelectBox","move_all","options","toArray","_iterator","_step","option","selected","indexOf","parseInt","move","action_description_templates","_ref2","templates","forEach","descriptionType","$field","concat","descriptionTemplate","currentDescription","val","trim","hasAttribute","removeAttr","currentHelpType","_ref3","setAttribute","submitted","one","event","preventDefault","returnValue","setUserFieldPlaceholder","_ref4","prop","trigger","_ref5","profile_type","profile_id","url","new_url","placeholder","getPlaceholder","select2"],"mappings":"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","file":"admin.js","sourceRoot":"../static-src","sourcesContent":["// modules are defined as an array\n// [ module function, map of requires ]\n//\n// map of requires is short require name -> numeric require\n//\n// anything defined in a previous bundle is accessed via the\n// orig method which is the require for previous bundles\nparcelRequire = (function (modules, cache, entry, globalName) {\n  // Save the require from previous bundle to this closure if any\n  var previousRequire = typeof parcelRequire === 'function' && parcelRequire;\n  var nodeRequire = typeof require === 'function' && require;\n\n  function newRequire(name, jumped) {\n    if (!cache[name]) {\n      if (!modules[name]) {\n        // if we cannot find the module within our internal map or\n        // cache jump to the current global require ie. the last bundle\n        // that was added to the page.\n        var currentRequire = typeof parcelRequire === 'function' && parcelRequire;\n        if (!jumped && currentRequire) {\n          return currentRequire(name, true);\n        }\n\n        // If there are other bundles on this page the require from the\n        // previous one is saved to 'previousRequire'. Repeat this as\n        // many times as there are bundles until the module is found or\n        // we exhaust the require chain.\n        if (previousRequire) {\n          return previousRequire(name, true);\n        }\n\n        // Try the node require function if it exists.\n        if (nodeRequire && typeof name === 'string') {\n          return nodeRequire(name);\n        }\n\n        var err = new Error('Cannot find module \\'' + name + '\\'');\n        err.code = 'MODULE_NOT_FOUND';\n        throw err;\n      }\n\n      localRequire.resolve = resolve;\n      localRequire.cache = {};\n\n      var module = cache[name] = new newRequire.Module(name);\n\n      modules[name][0].call(module.exports, localRequire, module, module.exports, this);\n    }\n\n    return cache[name].exports;\n\n    function localRequire(x){\n      return newRequire(localRequire.resolve(x));\n    }\n\n    function resolve(x){\n      return modules[name][1][x] || x;\n    }\n  }\n\n  function Module(moduleName) {\n    this.id = moduleName;\n    this.bundle = newRequire;\n    this.exports = {};\n  }\n\n  newRequire.isParcelRequire = true;\n  newRequire.Module = Module;\n  newRequire.modules = modules;\n  newRequire.cache = cache;\n  newRequire.parent = previousRequire;\n  newRequire.register = function (id, exports) {\n    modules[id] = [function (require, module) {\n      module.exports = exports;\n    }, {}];\n  };\n\n  var error;\n  for (var i = 0; i < entry.length; i++) {\n    try {\n      newRequire(entry[i]);\n    } catch (e) {\n      // Save first error but execute all entries\n      if (!error) {\n        error = e;\n      }\n    }\n  }\n\n  if (entry.length) {\n    // Expose entry point to Node, AMD or browser globals\n    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js\n    var mainExports = newRequire(entry[entry.length - 1]);\n\n    // CommonJS\n    if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n      module.exports = mainExports;\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n     define(function () {\n       return mainExports;\n     });\n\n    // <script>\n    } else if (globalName) {\n      this[globalName] = mainExports;\n    }\n  }\n\n  // Override the current require with this new one\n  parcelRequire = newRequire;\n\n  if (error) {\n    // throw error from earlier, _after updating parcelRequire_\n    throw error;\n  }\n\n  return newRequire;\n})({\"sfHE\":[function(require,module,exports) {\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n// Attribute for marking a field as edited\nvar ATTR_EDITED = 'data-edited';\n\n(function () {\n  // Wait for everything to be loaded, especially jQuery\n  document.addEventListener('DOMContentLoaded', function () {\n    if (window.django) {\n      var $ = window.django.jQuery;\n      var data = getData(); // Read the data passed by the backend\n\n      setupUserAjaxUrl($, data); // Wait until all Django related setup code has run\n      // so we don't respond to synthetic change events triggered\n      // during their initialization\n\n      $(function () {\n        setupActionDescriptionTemplates($, data);\n        setupHelpTypeDefaultRequirements($, data);\n        setupUserAccountsBehaviour($);\n        setupConfirmNavigationIfEdited($);\n      });\n    }\n  });\n})();\n\nfunction getData() {\n  var element = document.getElementById('js-data');\n\n  if (element) {\n    return JSON.parse(element.innerText);\n  }\n\n  return {};\n}\n/**\n * Manages the pre-filling of requirements according\n * to the default requirements associated to the selected help type\n * @param {jQuery} $ \n * @param {Object} data \n */\n\n\nfunction setupHelpTypeDefaultRequirements($, data) {\n  if (data.action_requirements_for_help_types) {\n    $(document).on('change', '[name=\"help_type\"]', function (_ref) {\n      var target = _ref.target;\n      var defaultRequirements = data.action_requirements_for_help_types[target.value] || []; // Clear the selected options, using Django's SelectBox API\n      // as there is some caching behind the scene that breaks if \n      // moving only the HTML elements\n\n      window.SelectBox.move_all('id_requirements_to', 'id_requirements_from'); // We need to grab the list of options each time, \n      // looks like elements are re-created by the move_all\n\n      var options = $('.field-requirements option').toArray();\n\n      var _iterator = _createForOfIteratorHelper(options),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          option = _step.value;\n          // Mark options as selected as needed by the help type requirements\n          option.selected = defaultRequirements.indexOf(parseInt(option.value)) != -1;\n        } // And move the selected options to the selected box\n\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      window.SelectBox.move('id_requirements_from', 'id_requirements_to');\n    });\n  }\n}\n/**\n * Manages the prefilling of action descriptions according\n * to the templates corrsponding to the selecte help type\n * @param {jQuery} $ \n * @param {Object} data - The hash of data passed to the view\n */\n\n\nfunction setupActionDescriptionTemplates($, data) {\n  if (data.action_description_templates) {\n    $(document).on('change', '[name=\"help_type\"]', function (_ref2) {\n      var target = _ref2.target;\n      var templates = data.action_description_templates[target.value] || {}; // Loop through the fields that we have templates for.\n\n      ['public', 'private'].forEach(function (descriptionType) {\n        var $field = $(\"[name=\\\"\".concat(descriptionType, \"_description\\\"]\"));\n        var descriptionTemplate = templates[\"\".concat(descriptionType, \"_description_template\")];\n        var currentDescription = ($field.val() || \"\").trim(); // If the current description is empty or is the template, we can update it.\n\n        if (!currentDescription || !$field[0].hasAttribute('data-edited')) {\n          $field.val(descriptionTemplate);\n          $field.removeAttr('data-edited');\n        }\n      });\n      currentHelpType = target.value;\n    }); // Track editions of descriptions to prevent replacement of edited value\n\n    $(document).on('input', '[name=\"public_description\"],[name=\"private_description\"]', function (_ref3) {\n      var target = _ref3.target;\n      target.setAttribute('data-edited', '');\n    });\n  }\n}\n/**\n * Adds a confirmation before navigation if users\n * have edited anything on the page\n * @param {jQuery} $ \n */\n\n\nfunction setupConfirmNavigationIfEdited($) {\n  var submitted;\n  $(document).on('submit', function () {\n    submitted = true;\n  });\n  $(document).one('change', function () {\n    window.addEventListener('beforeunload', function (event) {\n      if (!submitted) {\n        // Cancel the event as stated by the standard.\n        event.preventDefault(); // Chrome requires returnValue to be set.\n\n        event.returnValue = '';\n        return \"Looks like you've edited some data and not saved it yet. If you navigate away, you'll lose those changes. \\n        \\n        Are you sure you want to continue?\\n        \";\n      }\n    });\n  });\n}\n/**\n * Manages the user account fields in the volunteer and coordinator\n * forms\n * @param {jQuery} $ \n */\n\n\nfunction setupUserAccountsBehaviour($) {\n  // Controls which placeholder is shown, depending on whether an account is needed\n  // or not\n  $(document).on('change', '[name=\"user_without_account\"]', function () {\n    setUserFieldPlaceholder($);\n  });\n  setUserFieldPlaceholder($); // Unchecks the \"user_without_account\" when picking an account in the list of users\n\n  $(document).on('change', '[name=\"user\"]', function (_ref4) {\n    var target = _ref4.target;\n\n    if (target.value) {\n      $('[name=\"user_without_account\"]').prop('checked', false).trigger('change');\n    }\n  });\n}\n\nfunction setupUserAjaxUrl($, _ref5) {\n  var profile_type = _ref5.profile_type,\n      profile_id = _ref5.profile_id;\n\n  if (profile_type) {\n    var url = $('[name=\"user\"]').data('ajax--url');\n\n    if (url) {\n      var new_url = \"\".concat(url, \"?without_profile_type=\").concat(profile_type);\n\n      if (profile_id) {\n        new_url = \"\".concat(new_url, \"&profile_id=\").concat(profile_id);\n      }\n\n      $('[name=\"user\"').data('ajax--url', new_url);\n    }\n  }\n}\n\nfunction setUserFieldPlaceholder($) {\n  var placeholder = getPlaceholder($); // Use jQuery's `data` rather than set the attribute\n  // as the attribute wouldn't get read\n\n  $('[name=\"user\"]').data('placeholder', placeholder);\n  $('[name=\"user\"]').select2({\n    placeholder: placeholder\n  });\n}\n\nfunction getPlaceholder($) {\n  if ($('[name=\"user_without_account\"]').prop('checked')) {\n    return 'No account required';\n  } else {\n    return 'Automatically create a new account';\n  }\n}\n},{}]},{},[\"sfHE\"], null)\n"]}